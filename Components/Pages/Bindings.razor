@page "/Bindings"

<PageTitle>Bindings</PageTitle>

<h1>Binding Progression Tree</h1>
<MudDivider></MudDivider>
&nbsp;

@inject IDialogService DialogService

<PageTitle>Bindings Tech Tree</PageTitle>

<CascadingValue Value="this">
    <div style="position: relative;">
        @foreach (var Binding in BindingTree.Bindings)
        {
            <MudPaper Style="@($"position: absolute; left: {item.Position.X * 100}px; top: {item.Position.Y * 100}px;")" Class="p-2">
                <div @onmouseover="() => ShowBindingInfo(item)">
                    <MudText Typo="Typo.h6">@item.Name</MudText>
                    @if (item.isOwned)
                    {
                        <MudIcon Icon="@Icons.Filled.Lock" Color="Color.Primary" />
                    }
                    <MudButton OnClick="@(() => BuyBinding(binding))" Color="Color.Primary">Buy</MudButton>
                    <MudButton OnClick="@(() => SellBinding(item))" Color="Color.Secondary">Sell</MudButton>
                </div>
            </MudPaper>
        }
    </div>

    <MudPaper Class="p-4" Style="position: fixed; top: 0; width: 100%;">
        <MudText>Bla Bla Bla current info</MudText>
    </MudPaper>
</CascadingValue>